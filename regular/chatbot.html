<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Chatbot - C√°ncer de Mama</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background-color: #fafafa;
      color: #444;
      line-height: 1.5;
      font-size: 14px;
    }
    header {
      background-color: #c2185b;
      color: white;
      padding: 22px 15px;
      text-align: center;
      box-shadow: 0 3px 8px rgba(194, 24, 91, 0.7);
      border-radius: 0 0 12px 12px;
      margin-bottom: 40px;
    }
    header h1 {
      margin: 0 0 8px;
      font-size: 2.2rem;
      letter-spacing: 1px;
      font-weight: 700;
    }
    header p {
      font-size: 1rem;
      font-weight: 600;
      opacity: 0.85;
      margin: 0;
      font-style: italic;
    }
    main {
      max-width: 750px;
      margin: 0 auto 60px;
      padding: 0 20px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.05);
      padding: 25px 25px 30px;
    }
    .chat-box {
      height: 320px;
      overflow-y: auto;
      border: 1px solid #ddd;
      padding: 15px;
      border-radius: 10px;
      background: #fafafa;
      margin-bottom: 20px;
      font-size: 0.95rem;
      color: #555;
      font-weight: 500;
    }
    .user, .bot {
      margin-bottom: 12px;
      line-height: 1.4;
    }
    
.user {
  text-align: left;
  color: #c2185b;
  font-weight: 600;
  background: #fde4ef;
  display: inline-block;
  max-width: 100%;
  min-width: 300px;          /* <-- Ajusta aqu√≠ el fondo m√≠nimo */
  padding: 8px 16px 8px 15px;
  border-radius: 15px;
  margin-bottom: 12px;
  margin-top: 8px;
  box-sizing: border-box;    /* Asegura que el padding se sume al ancho total */
   font-size: 14px; /* <-- Tama√±o de letra (ajusta a tu gusto) */
   font-family: 'Segoe UI', Arial, Helvetica, sans-serif; /* <-- Tipo de letra */
}
    .bot1 {
      text-align: left;
      text-align: justify;
      color: #444;
      padding: 7px 16px;
       word-break: break-word;
    }
    .bot {
  text-align: left;
  color:#444;
  padding: 7px 16px;
  margin-left: 5%;   /* M√ÅS espacio a la izquierda = el mensaje se mueve hacia el centro */
  word-break: break-word;
  text-align: justify;
  font-size: 14px;
}
    .input-container {
      display: flex;
      gap: 10px;
    }
    input[type="text"] {
      flex-grow: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 500;
    }
    button.send-btn {
      background-color: #c2185b;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(194, 24, 91, 0.3);
      transition: background-color 0.3s ease, transform 0.2s ease;
      user-select: none;
    }
    button.send-btn:hover {
      background-color: #a3164f;
      transform: translateY(-2px);
    }
    
    .link-calendar {
      text-align: center;
      margin-top: 20px;
    }
    .link-calendar a {
      color: #c2185b;
      font-weight: 700;
      text-decoration: none;
      font-size: 1.1rem;
    }
    .link-calendar a:hover {
      text-decoration: underline;
    }

    .card-chatbot {
      /* Oculto, ya que la estructura visual ahora es con main directamente */
      display: none;
    }
    .chat-avatar, .chat-title, .chat-desc {
      /* Oculto por el mismo motivo, pero puedes reactivar si lo deseas */
      display: none;
    }
    ul, ol {
  margin: 0 0 0 30px; /* o el margen izquierdo que prefieras */
  padding: 0;
}
  @media (max-width: 600px) {
      main {
        margin: 20px 15px 50px;
        padding: 20px;
      }
      header h1 {
        font-size: 1.8rem;
      }
      header p {
        font-size: 0.9rem;
      }
      .chat-box {
        height: 280px;
        font-size: 0.9rem;
      }
      input[type="text"] {
        font-size: 0.9rem;
      }
      button.send-btn {
        font-size: 0.95rem;
        padding: 10px 20px;
      }
      .chat-footer a button {
        width: 100%;
        font-size: 1.1rem;
        padding: 14px;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Chatbot Informativo</h1>
    <p>Resuelve tus dudas sobre <b>c√°ncer de mama</b> con respuestas claras y confiables</p>
  </header>
  <main>
    <div class="chat-box" id="chatBox">
      <div class="bot1">ü§ñ ¬°Hola! Soy tu asistente virtual. Preg√∫ntame lo que desees sobre el c√°ncer de mama: s√≠ntomas, prevenci√≥n, tratamientos, ex√°menes y m√°s.</div>
      <i><b><center>Por favor, solo consultas sobre c√°ncer de mama. Otros temas no ser√°n respondidos.</center></b></i><br></div>
    </div>
    <div class="input-container">
      <input type="text" id="userInput" placeholder="Escribe tu pregunta sobre c√°ncer de mama..." autocomplete="off" />
      <button class="send-btn" onclick="sendMessage()">Enviar</button>
    </div>
     <div class="link-calendar">
      <a href="../principal.html">‚¨ÖÔ∏è Volver al inicio</a>
    </div>
   
  </main>
  <script>
    const chatBox = document.getElementById('chatBox');
    const userInput = document.getElementById('userInput');
// Base de conocimiento expandida y humanizada
const KNOWLEDGE = [
  {
    keywords: [/que es/i, /definicion/i, /explica/i, /cancer de mama/i],
    answer: `El c√°ncer de mama es una enfermedad donde las c√©lulas del tejido mamario se multiplican de manera anormal y descontrolada, formando un tumor maligno. Aunque es mucho m√°s frecuente en mujeres, tambi√©n puede presentarse en hombres.
            Existen distintos tipos y subtipos de c√°ncer de mama, algunos crecen y se diseminan m√°s r√°pido que otros. La detecci√≥n temprana y el tratamiento adecuado mejoran significativamente las probabilidades de curaci√≥n y calidad de vida.¬øTe gustar√≠a saber sobre s√≠ntomas, causas, prevenci√≥n o los tipos de c√°ncer de mama?`
  },
  {
    keywords: [/sintoma/i, /signos/i, /como saber/i, /detectar/i, /manifestacion/i, /bulto/i],
    answer: `Los s√≠ntomas del c√°ncer de mama pueden variar o incluso no presentarse en etapas iniciales. Algunos signos de alerta son:
<ul>
    <li><b>Bultos en el seno o la axila</b>, duros e indoloros en la mayor√≠a de los casos.</li>
<li><b>Cambios en el tama√±o, forma o apariencia</b> del seno.</li>
<li><b>Alteraciones en la piel</b> (enrojecimiento, hoyuelos, textura similar a "piel de naranja").</li>
<li><b>Cambios en el pez√≥n:</b> retracci√≥n, dolor, enrojecimiento o secreci√≥n anormal, especialmente si es sanguinolenta.</li>
<li><b>Dolor persistente</b> en el seno o axila.</li></ul>
Recuerda: <b>no todos los bultos son c√°ncer</b>, pero siempre es importante consultar con un profesional de salud ante cualquier cambio o s√≠ntoma.`
  },
  {
    keywords: [/prevencion/i, /prevenir/i, /evitar/i, /como evitar/i, /alimentos/i, /comida/i],
    answer: `Si bien no es posible evitar totalmente el c√°ncer de mama, hay h√°bitos que ayudan a reducir el riesgo:
<ul>
<li>Mantener un peso saludable y llevar una dieta equilibrada, rica en vegetales, frutas, granos integrales y baja en grasas saturadas.</li>
<li>Hacer ejercicio regularmente.</li>
<li>Evitar el consumo excesivo de alcohol y no fumar.</li>
<li>Realizar autoexploraciones mamarias mensuales y chequeos m√©dicos peri√≥dicos.</li>
<li>Amamantar, si es posible, tambi√©n puede tener un efecto protector.</li><ul>`
  },
  {
    keywords: [/factor|causa|riesgo|hereditari|genetic|mutacion|brca/i],
    answer: `Algunos factores aumentan el riesgo de c√°ncer de mama:
<ul>
<li>Ser mujer y la edad avanzada.</li>
<li>Antecedentes familiares (madre, hermana, hija) con c√°ncer de mama u ovario.</li>
<li>Mutaciones gen√©ticas hereditarias (BRCA1, BRCA2).</li>
<li>Menstruaci√≥n antes de los 12 a√±os o menopausia despu√©s de los 55 a√±os.</li>
<li>No haber tenido hijos o tener el primer embarazo despu√©s de los 30 a√±os.</li>
<li>Exposici√≥n a radiaci√≥n o tratamientos hormonales prolongados.</li>
<li>Consumo elevado de alcohol o sobrepeso.</li>
</ul>
Sin embargo, muchas personas sin estos factores pueden desarrollarlo, y no todas las que los tienen lo padecen.`
  },
  {
    keywords: [/mamografia|examen|prueba|diagnostic|biopsia/i],
    answer: `La <b>mamograf√≠a</b> es una radiograf√≠a especial de las mamas que permite detectar lesiones muy peque√±as, incluso antes de que sean palpables.
Otras pruebas son:
<ul>
<li><b>Ecograf√≠a mamaria:</b> √∫til en mujeres j√≥venes o con mamas densas.</li>
<li><b>Resonancia magn√©tica:</b> utilizada en casos espec√≠ficos.</li>
<li><b>Biopsia:</b> extracci√≥n de una muestra de tejido para analizar si hay c√©lulas cancerosas.</li>
</ul>
Se recomienda una mamograf√≠a anual o bianual a partir de los 40 a√±os, o antes si hay antecedentes familiares. Consulta a tu m√©dico sobre el esquema ideal para ti.`
  },
  {
    keywords: [/tratamiento|cura|curar|tratar|quimioterapia|radioterapia|cirugia|mastectomi|lumpectomi|hormonal/i],
    answer: `El tratamiento depende del tipo, la etapa y las caracter√≠sticas del c√°ncer, as√≠ como de la salud general de la persona. Suele incluir:
<ul>
<li><b>Cirug√≠a:</b> puede ser parcial (lumpectom√≠a) o total (mastectom√≠a); a veces, retiro de ganglios linf√°ticos.</li>
<li><b>Radioterapia:</b> utiliza radiaci√≥n para eliminar c√©lulas cancerosas.</li>
<li><b>Quimioterapia:</b> medicamentos que destruyen c√©lulas cancerosas en todo el cuerpo.</li>
<li><b>Terapia hormonal:</b> bloquea hormonas que pueden favorecer el crecimiento tumoral.</li>
<li><b>Terapias dirigidas e inmunoterapia:</b> atacan mecanismos espec√≠ficos de las c√©lulas cancerosas.</li>
</ul>`
  },
  {
    keywords: [/autoexploracion|como palpar|explorar|tocar|auto exploracion/i],
    answer: `La autoexploraci√≥n mamaria es un m√©todo sencillo para detectar cambios o bultos en los senos.
<b>¬øC√≥mo hacerla?</b>
<ol>
<li>Frente al espejo, observa tus senos con los brazos abajo y luego arriba, buscando cambios en forma, tama√±o o piel.</li>
<li>Palpa ambos senos y axilas con movimientos circulares y suaves con las yemas de los dedos (puedes hacerlo de pie o recostada).</li>
<li>Hazlo una vez al mes, preferiblemente una semana despu√©s de la menstruaci√≥n.</li>
</ol>
<b>Si detectas algo inusual, acude a tu m√©dico.</b> La autoexploraci√≥n no reemplaza la mamograf√≠a, pero ayuda a familiarizarte con tu cuerpo.`
  },
  {
    keywords: [/emocion|miedo|ansiedad|apoyo|psicolog|sentimiento|triste/i],
    answer: `Recibir un diagn√≥stico de c√°ncer de mama puede causar miedo, tristeza, ansiedad o incertidumbre. <b>Es normal sentirte as√≠</b>.
<b>Recomendaciones:</b>
<ul>
<li>Habla sobre tus emociones con familiares, amigos o profesionales de salud mental.</li>
<li>Participa en grupos de apoyo donde puedas compartir tus experiencias.</li>
<li>Busca ayuda profesional si te sientes abrumada.</li>
</ul>
El apoyo emocional es fundamental para transitar el proceso de tratamiento y recuperaci√≥n. ¬°No est√°s sola!`
  },
  {
    keywords: [/hombre|varon|masculin/i],
    answer: `Aunque es mucho menos com√∫n, los hombres tambi√©n pueden desarrollar c√°ncer de mama porque tienen tejido mamario.
<b>S√≠ntomas, pruebas y tratamientos son similares a los de las mujeres.</b> Si eres hombre y notas bultos, cambios en el pez√≥n o piel del pecho, consulta a un m√©dico.
Un diagn√≥stico temprano mejora las posibilidades de √©xito en el tratamiento.`
  },
  {
    keywords: [/tipo|variedad|clasificaci/i, /carcinoma ductal|cd[i|s]/i],
    answer: `<b>Tipos principales de c√°ncer de mama:</b>
<ul>
<li><b>Carcinoma ductal in situ (CDIS):</b> el m√°s frecuente, limitado a los conductos mamarios.</li>
<li><b>Carcinoma lobulillar in situ (CLIS):</b> afecta los lobulillos mamarios.</li>
<li><b>Carcinoma invasivo:</b> puede ser ductal o lobulillar, y puede diseminarse a otras partes del cuerpo.</li>
</ul>
Cada tipo responde de manera diferente al tratamiento, por lo que un diagn√≥stico preciso es fundamental.`
  },
  {
    keywords: [/edad|cuando|a que edad|chequeo|control/i],
    answer: `<b>Recomendaciones generales:</b>
<ul>
<li>Autoexploraci√≥n mamaria: desde los 20 a√±os, una vez al mes.</li>
<li>Consulta m√©dica: una vez al a√±o desde los 25-30 a√±os.</li>
<li>Mamograf√≠a: a partir de los 40 a√±os, o antes si hay factores de riesgo.</li>
</ul>
Consulta siempre con tu m√©dico cu√°l es la frecuencia y edad m√°s adecuada para ti.`
  },
  {
    keywords: [/acompa√±ar|familia|apoyar|ser querido|amigo/i],
    answer: `Acompa√±ar a alguien con c√°ncer de mama implica:
<ul>
<li>Escuchar y respetar sus emociones.</li>
<li>Ofrecer ayuda pr√°ctica, como acompa√±ar a consultas o colaborar en tareas diarias.</li>
<li>Informarse sobre la enfermedad para comprender mejor sus necesidades.</li>
<li>Animar a expresar sus sentimientos y buscar apoyo profesional.</li>
</ul>
El apoyo emocional es tan importante como el tratamiento m√©dico.`
  },
  {
    keywords: [/sobrevida|pronostico|curacion|supervivencia|expectativa/i],
    answer: `El pron√≥stico del c√°ncer de mama ha mejorado notablemente. <b>La tasa de supervivencia a 5 a√±os es superior al 90% si se detecta en etapas tempranas.</b> El pron√≥stico depende del tipo de tumor, la etapa, la edad y el estado general de salud.
La clave es el diagn√≥stico precoz y el acceso a tratamientos adecuados.`
  },
  {
    keywords: [/saludo|hola|buenas/i],
    answer: `¬°Hola! ¬øEn qu√© puedo ayudarte hoy sobre c√°ncer de mama?`
  },
  {
    keywords: [/gracias|agradecid/i],
    answer: `¬°De nada! Me alegra poder ayudarte. Si tienes otra pregunta sobre c√°ncer de mama, aqu√≠ estoy para ti.`
  },
  {
    keywords: [/adios|chau|hasta luego|nos vemos/i],
    answer: `¬°Hasta luego! Recuerda que puedes volver cuando quieras. Tu salud es lo m√°s importante.`
  }
];

// Palabras clave para rechazar temas que no sean de c√°ncer de mama
const OUT_OF_SCOPE = [
  /inteligencia artificial|tecnolog|politic|futbol|clima|presidente|perro|gato|musica|pais|historia|matematic|gpt|openai|modelo|red neuronal|quimica|covid|influenza|diabetes|corazon|ri√±on|pulmon|computadora|celular|telefono|juego|pelicula|actor|artista|viaje|vacacion|universidad|trabajo|dinero|criptomoneda|bitcoin|cocina|receta/i
];


    function appendMessage(message, sender) {
      const div = document.createElement('div');
      div.className = sender;
      div.innerHTML = message.replace(/\n/g, "<br>");
      chatBox.appendChild(div);
      chatBox.scrollTop = chatBox.scrollHeight;
    }

    function sendMessage() {
      let text = userInput.value.trim();
      if (text === "") return;

      appendMessage(text, 'user');
      userInput.value = "";
      userInput.disabled = true;
      setTimeout(() => {
        const response = getBotResponse(text);
        appendMessage(response, 'bot');
        userInput.disabled = false;
        userInput.focus();
      }, 900);
    }

    function getBotResponse(input) {
      // Primero, si detecta palabras fuera de tema, rechaza la pregunta
      for (let out of OUT_OF_SCOPE) {
        if (out.test(input)) {
          return `Lo siento, solo puedo responder preguntas sobre <b>c√°ncer de mama</b>.<br>
          ¬øTienes dudas sobre s√≠ntomas, prevenci√≥n, tratamientos, apoyo emocional u otros aspectos de esta enfermedad? ¬°Estoy aqu√≠ para ayudarte!`;
        }
      }
      // Busca respuesta adecuada en la base de conocimiento
      for (let item of KNOWLEDGE) {
        for (let k of item.keywords) {
          if (k.test(input)) {
            return item.answer;
          }
        }
      }
        // Si no encuentra respuesta, intenta ser humana
      return `No tengo informaci√≥n precisa sobre esa consulta.
      Puedo ayudarte con preguntas sobre:
      <i>‚Ä¢ S√≠ntomas
      ‚Ä¢ Edad para hacerce la mamograf√≠a
      ‚Ä¢ Prevenci√≥n
      ‚Ä¢ Tratamiento,entre otros.</i>`;
    }

    // Permitir enviar mensaje con Enter
    userInput.addEventListener("keydown", function(e) {
      if (e.key === "Enter") {
        sendMessage();
      }
    });
  </script>
</body>
</html>